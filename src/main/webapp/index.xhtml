<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>
<f:view>
    <h:head>

    </h:head>
    <h:body>

        <p:importEnum type="br.com.devdojo.maratonajsf.model.enums.Turno" var="Turno" allSuffix="ALL_ENUM_VALUES"/>

        <!-- Turma -->
        <p:importEnum type="br.com.devdojo.maratonajsf.model.enums.Turma" var="Turma" allSuffix="ALL_ENUM_VALUES"/>

        <h:outputLabel value="Hello"/><br/>
        <h:outputLabel value="#{estudanteRegistrarBean.estudante.nome}"/><br/>

        <h:outputLabel
                value="Comparação de notas com eq #{estudanteRegistrarBean.estudante.nota01 eq estudanteRegistrarBean.estudante.nota02}"/>
        <br/>
        <h:outputLabel
                value="Comparação de notas com == #{estudanteRegistrarBean.estudante.nota01 == estudanteRegistrarBean.estudante.nota02}"/>
        <br/>
        <h:outputLabel value="Comparação de notas com == e AND #{estudanteRegistrarBean.estudante.nota01 == estudanteRegistrarBean.estudante.nota02
        and estudanteRegistrarBean.estudante.nome eq 'David'}"/>
        <br/>
        <h:outputText value="Comparação de notas com ge "/>
        <h:outputLabel value="#{estudanteRegistrarBean.estudante.nota01 ge estudanteRegistrarBean.estudante.nota02}"/>
        <br/>
        <h:outputText value="Comparação de notas com le "/>
        <h:outputLabel value="#{estudanteRegistrarBean.estudante.nota01 le estudanteRegistrarBean.estudante.nota02}"/>
        <br/>
        <br/>
        <h:outputText value="Ternário, comparações"/>
        <br/>
        <h:outputLabel value="#{estudanteRegistrarBean.estudante.nota01 eq 0 ? 'ZERO' : 'Não é zero' }"/>
        <br/>
        <h:outputLabel
                value="#{estudanteRegistrarBean.estudante.nota01 lt 0 ? 'É MAIOR QUE ZERO' : 'NÃO É MAIOR QUE 0' }"/>
        <br/>
        <h:outputText value="Operadores de atribuição"/>
        <br/>
        <h:outputLabel value="#{estudanteRegistrarBean.estudante.nota01 = 40}"/><br/>
        <h:outputText value="#{estudanteRegistrarBean.estudante.nota01}"/>
        <br/>
        <h:outputText value="Concatenação"/>
        <br/>
        <h:outputLabel value="#{estudanteRegistrarBean.estudante.nome += ' Oliveira'}"/>

        <!-- Palavras reservadas : and, or, not, eq, ne(not equal !=),
        lt, gt, le, ge, true, false ,
        null, instanceof, empty, div, mod(para resto %)
        -->

        <br/>
        <h:outputText value="ENUM"></h:outputText>
        <h:outputLabel value="#{estudanteRegistrarBean.estudante.turno}"/>
        <br/>
        <h:outputLabel value="#{estudanteRegistrarBean.estudante.turno.equals(Turno.MATUTINO)}"/>

        <br/>
        <h:outputLabel
                value="#{estudanteRegistrarBean.estudante.turma.equals(Turma.T2A)}"/> <!-- AQUI DEVE RETORNAR FALSE -->

        <!--Arrays -->
        <h:outputLabel value="#{estudanteRegistrarBean.nomesArray[0]}
        #{estudanteRegistrarBean.nomesArray[1]}
        #{estudanteRegistrarBean.nomesArray[2]}"/>

        <!-- ui:repeat array -->
        <ui:repeat value="#{estudanteRegistrarBean.nomesArray}" var="nome">
            <h:outputLabel value="#{nome}"/><br/>
        </ui:repeat>

        <!--List -->
        <h:outputLabel value="#{estudanteRegistrarBean.nomesList.get(0)}
        #{estudanteRegistrarBean.nomesList.get(1)}
        #{estudanteRegistrarBean.nomesList.get(2)}"/>

        <!-- ui:repeat List -->
        <ui:repeat value="#{estudanteRegistrarBean.nomesList}" var="nome">
            <h:outputLabel value="#{nome}"/><br/>
        </ui:repeat>

        <!-- ui:repeat SET  -->
        <h:outputLabel value="-----------SET-----------"/>
        <ui:repeat value="#{estudanteRegistrarBean.nomesSet.toArray()}" var="nome">
            <h:outputLabel value="#{nome}"/><br/>
        </ui:repeat>

        <!-- MAP  -->
        <h:outputLabel value="-----------MAP-----------"/>
        <h:outputLabel value="#{estudanteRegistrarBean.nomesMap.get('Goku')}"/><br/>
        <h:outputLabel value="#{estudanteRegistrarBean.nomesMap}"/><br/>
        <ui:repeat value="#{estudanteRegistrarBean.nomesMap.entrySet().toArray()}" var="entry">
            <h:outputLabel value="#{entry.key} - #{entry.value}"/>
        </ui:repeat>

        <!-- Executando métodos no bean -->
        #{estudanteRegistrarBean.executar("Xuxu")}
        #{estudanteRegistrarBean.executar(estudanteRegistrarBean.estudante.nome)}
        #{estudanteRegistrarBean.executarRetorno("David")}

        <h:form>
            <h:commandButton value="Ir para a proxima pagina"
                             actionListener="#{estudanteRegistrarBean.irParaIndex2()}"/>
            <h:commandButton value="Soltar magia" onclick="fazMagica('Hadooouken')"/>

            <!-- Passando valores com EL para funçoes JS -->
            <h:commandButton value="Soltar magia" onclick="fazMagica('Hadooouken')"/>
            <br/>

            <h:commandButton value="Mostrar nome" onclick="alertNome('#{estudanteRegistrarBean.estudante.nome}')"/>
        </h:form>

        <!-- Imprimindo CSS com expression language EL -->
        <ui:repeat value="#{estudanteRegistrarBean.nomesList}" var="nome" varStatus="status">
            #{status.index} -
            <h:outputLabel value="#{nome}" style="color: #{status.index mod 2 == 0 ? 'red' : 'blue'}"/><br/>
        </ui:repeat>

        <br/>
        <br/>
        <h:form id="form">
            <h:commandButton value="Mostrar notas">
                <f:ajax render="notasGrid" listener="#{estudanteRegistrarBean.exibirNotas()}"/>
            </h:commandButton>
            <h:commandButton value="Esconder notas">
                <f:ajax render="notasGrid" listener="#{estudanteRegistrarBean.esconderNotas()}"/>
            </h:commandButton>
            <br/>
            <h:outputText value="#{estudanteRegistrarBean.estudante.nome}"/>
            <h:outputText value="#{estudanteRegistrarBean.estudante.sobrenome}"/>
            <h:outputText value="#{estudanteRegistrarBean.estudante.turno}"/>

            <h:panelGrid id="notasGrid">
                <h:outputText value="#{estudanteRegistrarBean.estudante.nota01}"
                              rendered="#{estudanteRegistrarBean.mostrarNotas}"/>
                <h:outputText value="#{estudanteRegistrarBean.estudante.nota02}"
                              rendered="#{estudanteRegistrarBean.mostrarNotas}"/>
                <h:outputText value="#{estudanteRegistrarBean.estudante.nota03}"
                              rendered="#{estudanteRegistrarBean.mostrarNotas}"/>
            </h:panelGrid>

            <br/><br/>

            <h:commandButton value="Mostrar Link">
                <f:ajax render="pgLink" listener="#{estudanteRegistrarBean.exibirLink()}"></f:ajax>
            </h:commandButton>
            <h:commandButton value="Esconder Link">
                <f:ajax render="pgLink" listener="#{estudanteRegistrarBean.esconderLink()}"></f:ajax>
            </h:commandButton>

            <h:panelGroup id="pgLink">
                <ui:fragment rendered="#{estudanteRegistrarBean.mostrarLink}" id="fragmentLink">
                    <a href="http://www.google.com.br" target="_blank">www.google.com.br</a>
                </ui:fragment>
            </h:panelGroup>

        </h:form>


    </h:body>

    <script type="text/javascript">
        function alertNome(nome) {
            alert(nome)
        }

        function fazMagica(magica) {
            alert(magica)
        }
    </script>
</f:view>
</html>
